---
layout: post
title: "Work Log"
description: ""
category: 'Work Log'
tags: []
meta: 
    "SVN Revision": 15864
---
{% include JB/setup %}
{% include research/tulips_da3_meta %}


Implemented re-ordering of indices.  Some are improved, some are worse.

Found bug in re-ordering -- the gradient and Hessian's transformation Jacobian wasn't updated properly.  After a few false starts, got it right.  Results seem much better.  Still getting signficant positive index offset for three curves, all others start at zero.  Post-procssing to force them to zero seems to fix; more investigation is warranted in the future.

Offset may be due to insufficient perturb variance?  Positive index offset only increases the variance of the first point; the conditional variance of future points is roughly the same for any index offset, due to conditional independence.  Possibly the perturb position variance is too low?  Carefull setting it too high, we'll get drift toward the camera.  Quick test: increase perturb position variance from 5^2 to 20^2.  The offset phenomenon is exagerated.  When position perturbations are left in, the attached model moves all over the place, over 100 mm at times. Well beyond the perturb variance.

Remember that increasing the perturb variance increases the marginal within-view variance, too.


Reintroducing connections.  All bad behaviors in dataset 8 appear to be fixed!
------------

Running on dataset 9.  Crashed.  missing views of some curves.  Going into ground truth tool to fix...

Still crashing.  bug in process_gt2 -- new minimum points code. fixed.

Running okay, not much movement even though dataset has significant movement.  

We were removing perturbations coming from the rate kernel.  new getting more movement, still not the right kind.  

plotting triangulated data over reconstructed data.  Significant offset, no explanation:

![]({{site.baseurl}}/img/2013-12-04-ds9_reconst_and_triangulation.png)

Intrestingly, one curve wasn't properly connected to the parent; that curve shows no offset.  Re-running with no connections to test this observation.  Offset seems gone, ecept for the middle part of the root curve:

![]({{site.baseurl}}/img/2013-12-04-ds9_reconst_and_riangulation_no_connection.png)

Observation: main curve shifts a lot between views; other curves have almost no shift. Possible index shrinkage problem?

measure index shrinkage: index vs. distance

If position variance is too low, we might be getting a pull toward the origin
